# Autogenerated help menus
!> Before starting this section, make sure you've read [registering arguments](/registering_arguments), [parsing arguments](/parsing_arguments), [subcommands](/subcommands), [argument groups](/using_argument_groups), and [dependent arguments](/dependent_arguments).

One of the most powerful features of koi is its ability to autogenerate help menus (documentation). When you register an argument with `__addarg`, you are required to include help text about the argument, which koi can then use to generate a help menu.

Some options relating to autogenerated are configurable. For more information, see [Configuration](/configuration).

## Reading CLI documentation
Koi will autogenerate a usage statement to be printed in the help menu. It has a some simple short hand notation.
* `-f` a flag
* `-a ARG` a required option that requires a value
* `-a ARG+` a required option that requires at least one value, but can take multiple
* `[-a ARG]` an optional option that requires a value
* `[-a ARG+]` an optional option that requires at least one value, but can take multiple
* `ARG` a required positional argument
* `[ARG]` an optional positional argument
* `ARG...` a required positional array
* `[ARG...]` an optional positional array
* `(-a | -b)` a required, mutually exlusive group
* `[-a | -b]` an optional, mutually exclusive group
* `(-a & -b)` a required, mutually inclusive group
* `[-a & -b]` an optional, mutually inclusive group

Long options are not listed in the usage statement for brevity, but rather are printed in the argument documentation below. In the argument documentation, `(+)` mean that the associated argument is an array, and can take multiple arguments.

## Help menus without subcommands
If you are use a `__koimain` (see [subcommands](/subcommands)), then the help menu will be generated on a _by-script_ basis. This means that the usage will be for the whole script, rather than for individual subcommands. You can show the help menu with the `-h` or `--help` options, provided they are registered.

**Example**
```bash
#!/bin/bash
set -e
source koi

koiname=myscript.sh
koidescription="A description about my script"

function __koimain {
	__addarg "-h" "--help" "help" "optional" "" "$koidescription"
	__addarg "-a" "--arg" "storevalue" "optional" "" "An optional argument"
	__addarg "" "pos" "positionalvalue" "required" "" "A required positional argument"
	__parseargs "$@"

	echo "arg: $arg"
	echo "pos: $pos"
}

__koirun "$@"
```
_The corresponding help menu:_
```
A description about my script

Usage:
myscript.sh [-h] [-a ARG] POS 
  -a, --arg ARG    An optional argument (optional) 
  pos              A required positional argument
```

## Help menus with subcommands
If you are using subcommands (see [subcommands](/subcommands)), then the help menu will have entry for each available function defined in your script. You can show the regular help menu with `help`, `-h`, or `--help`. You can show the verbose help menu with `help -v`, `help --verbose`, or `-hv`. You can also show just the command documentation with `list -d` or `list --docs`.

**Example**
```bash
#!/bin/bash
set -e
source koi

koiname=myscript.sh
koidescription="A description about my script"

function dosomething {
	__addarg "-h" "--help" "help" "optional" "" "Do something on the command line"
	__addarg "-a" "--arg" "storevalue" "optional" "value" "An optional value"
	__addarg "" "pos" "positionalarray" "required" "" "A required positional array"
	__parseargs "$@"

	echo "arg: $arg"
	echo "pos: ${pos[@]}"
}

function dosomethingelse {
	__addarg "-h" "--help" "help" "optional" "" "Do something else"
	__addarg "-f" "--force" "flag" "optional" "" "If included, do the thing forcefully"
	__parseargs "$@"

	echo "force: $force"
}

__koirun "$@"
```
_The corresponding regular help menu:_
```
A description about my script

Usage:
  myscript.sh COMMAND [args]

Available commands:
  dosomething
  dosomethingelse
  help
  list

Hints:
  myscript.sh help --verbose    Show complete command documentation
  myscript.sh COMMAND --help    Show individual command documentation
```
*[What are hints? Can I disable them?](/faq?id=what-are-hints)*

_The corresponding verbose help menu:_
```
A description about my script

Usage:
  myscript.sh COMMAND [args]

Available commands:
  dosomething
  dosomethingelse
  help
  list

Command documentation:
myscript.sh dosomething [-h] [-a ARG] POS... 
Do something on the command line
  -a, --arg ARG    An optional value (optional) (default: value)
  pos              (+) A required positional array 

myscript.sh dosomethingelse [-h] [-f] 
Do something else
  -f, --force    If included, do the thing forcefully (optional) 

myscript.sh help [-h] [-v] 
Show this menu and exit
  -v, --verbose    Print verbose command documentation (optional) 

myscript.sh list [-h] [-d] 
List all available commands
  -d, --docs    If included, print command documentation (optional)
```
*[Why are there the extra subcommands `help` and `list`?](/subcommands?id=default-subcommands)*

<hr>
<div style="text-align:center">
	<a class="edit-link" href="https://github.com/wcarhart/docs/blob/master/docs/koi/autogenerated_help_menus.md" target="_blank"><i class="fas fa-edit"></i> Edit this page</a>
</div>